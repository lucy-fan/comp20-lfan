<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Rick Roll</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>

<h1 id="title">Rick Roll</h1>

<video src="https://www.cs.tufts.edu/comp/20/rickroll.mp4" id="rickroll" controls></video>
<div id="lyrics"></div>

<script>
	var video = document.getElementById("rickroll");

	video.ontimeupdate = function() { displayLyric() };

	video.onended = function() { clearLyrics() };

	var timestamps = { 
		0: "",
		18: "We're no strangers to love",
		22: "You know the rules, and so do I",
		27: "A full commitment's what I'm thinking of",
		31: "You wouldn't get this from any other guy",
		35: "I just wanna tell you how I'm feeling",
		40: "Gotta make you understand",
		43: "Never gonna give you up",
		45: "Never gonna let you down",
		47: "Never gonna run around and desert you",
		51: "Never gonna make you cry",
		53: "Never gonna say goodbye",
		55: "Never gonna tell a lie and hurt you",
		60: "We've known each other for so long",
		64: "Your heart's been aching, but",
		66: "You're too shy to say it",
		69: "Inside, we both know what's been going on",
		73: "We know the game and we're gonna play it",
		77: "And if you ask me how I'm feeling",
		82: "Don't tell me you're too blind to see",
		85: "Never gonna give you up",
		87: "Never gonna let you down",
		89: "Never gonna run around and desert you",
		93: "Never gonna make you cry",
		96: "Never gonna say goodbye",
      98: "Never gonna tell a lie and hurt you",
      102: "Never gonna give you up",
		104: "Never gonna let you down",
		106: "Never gonna run around and desert you",
		110: "Never gonna make you cry",
		113: "Never gonna say goodbye",
      115: "Never gonna tell a lie and hurt you",
      119: "(Ooh, give you up)",
      123: "(Ooh, give you up)",
      128: "Never gonna give, never gonna give",
      130: "(Give you up)",
      132: "Never gonna give, never gonna give",
      134: "(Give you up)",
      136: "We've known each other for so long",
      140: "Your heart's been aching, but",
      143: "You're too shy to say it",
      145: "Inside, we both know what's been going on",
      149: "We know the game and we're gonna play it",
      153: "I just wanna tell you how I'm feeling",
		158: "Gotta make you understand",
		161: "Never gonna give you up",
		163: "Never gonna let you down",
		165: "Never gonna run around and desert you",
		170: "Never gonna make you cry",
		172: "Never gonna say goodbye",
      174: "Never gonna tell a lie and hurt you",
      178: "Never gonna give you up",
		180: "Never gonna let you down",
		182: "Never gonna run around and desert you",
		186: "Never gonna make you cry",
		188: "Never gonna say goodbye",
      191: "Never gonna tell a lie and hurt you",
      195: "Never gonna give you up",
		197: "Never gonna let you down",
		199: "Never gonna run around and desert you",
		203: "Never gonna make you cry",
		205: "Never gonna say goodbye",
      207: "Never gonna tell a lie and hurt you",
      212: ""
	}

   // creates an object out of the keys in the timestamp object
   // and compares it to the current time
	function displayLyric() {

		var keys = Object.keys(timestamps);
		for (var i=0; i<(keys.length-1); i++) {
			if (video.currentTime > keys[i] && video.currentTime < keys[i+1]) {
				document.getElementById("lyrics").innerHTML = timestamps[keys[i]];
				break;
			}
		}
	}

	// when the video ends, the lyrics disappear

	function clearLyrics() {
		document.getElementById("lyrics").innerHTML = "";
	}
</script>
</body>
</html>	
